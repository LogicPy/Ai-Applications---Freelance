{"ast":null,"code":"// frontend/src/App.js\nimport React,{useState}from'react';import axios from'axios';import ThreeJSRenderer from'./components/ThreeJSRenderer';import CodeDisplay from'./components/CodeDisplay';// Import the new component\nimport'./App.css';// Ensure this path matches your project structure\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[prompt,setPrompt]=useState('');const[code,setCode]=useState('');const[error,setError]=useState('');const[parseError,setParseError]=useState('');const[loading,setLoading]=useState(false);// For loading indicator\nconst handleGenerate=async()=>{if(!prompt.trim()){setError('Please enter a prompt.');return;}setLoading(true);setError('');setParseError('');setCode('');try{const response=await axios.post('/api/generate-threejs',// Proxy in package.json routes to backend\n{prompt},{headers:{'Content-Type':'application/json','x-api-key':process.env.REACT_APP_API_KEY// Ensure this matches the backend API_KEY\n}});setCode(response.data.code);}catch(err){console.error('Error generating code:',err);if(err.response&&err.response.status===401){setError('Unauthorized: Invalid API Key.');}else{setError('An error occurred while generating code.');}}finally{setLoading(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"App-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Three.js IDE\"}),/*#__PURE__*/_jsx(\"textarea\",{value:prompt,onChange:e=>setPrompt(e.target.value),placeholder:\"Describe your 3D scene...\",rows:\"4\",cols:\"50\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:handleGenerate,disabled:loading,children:loading?'Generating...':'Generate Three.js Code'}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:error}),parseError&&/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:parseError})]}),/*#__PURE__*/_jsxs(\"main\",{children:[code&&/*#__PURE__*/_jsx(ThreeJSRenderer,{code:code,setParseError:setParseError}),code&&/*#__PURE__*/_jsx(CodeDisplay,{code:code}),\" \"]})]});}export default App;","map":{"version":3,"names":["React","useState","axios","ThreeJSRenderer","CodeDisplay","jsx","_jsx","jsxs","_jsxs","App","prompt","setPrompt","code","setCode","error","setError","parseError","setParseError","loading","setLoading","handleGenerate","trim","response","post","headers","process","env","REACT_APP_API_KEY","data","err","console","status","className","children","value","onChange","e","target","placeholder","rows","cols","onClick","disabled"],"sources":["C:/Users/Admin/Desktop/threejs_ide/threejs-ide/frontend/src/App.js"],"sourcesContent":["// frontend/src/App.js\r\n\r\nimport React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport ThreeJSRenderer from './components/ThreeJSRenderer';\r\nimport CodeDisplay from './components/CodeDisplay'; // Import the new component\r\nimport './App.css'; // Ensure this path matches your project structure\r\n\r\nfunction App() {\r\n  const [prompt, setPrompt] = useState('');\r\n  const [code, setCode] = useState('');\r\n  const [error, setError] = useState('');\r\n  const [parseError, setParseError] = useState('');\r\n  const [loading, setLoading] = useState(false); // For loading indicator\r\n\r\n  const handleGenerate = async () => {\r\n    if (!prompt.trim()) {\r\n      setError('Please enter a prompt.');\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    setError('');\r\n    setParseError('');\r\n    setCode('');\r\n\r\n    try {\r\n      const response = await axios.post(\r\n        '/api/generate-threejs', // Proxy in package.json routes to backend\r\n        { prompt },\r\n        {\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            'x-api-key': process.env.REACT_APP_API_KEY, // Ensure this matches the backend API_KEY\r\n          },\r\n        }\r\n      );\r\n      setCode(response.data.code);\r\n    } catch (err) {\r\n      console.error('Error generating code:', err);\r\n      if (err.response && err.response.status === 401) {\r\n        setError('Unauthorized: Invalid API Key.');\r\n      } else {\r\n        setError('An error occurred while generating code.');\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <header className=\"App-header\">\r\n        <h1>Three.js IDE</h1>\r\n        <textarea\r\n          value={prompt}\r\n          onChange={(e) => setPrompt(e.target.value)}\r\n          placeholder=\"Describe your 3D scene...\"\r\n          rows=\"4\"\r\n          cols=\"50\"\r\n        />\r\n        <br />\r\n        <button onClick={handleGenerate} disabled={loading}>\r\n          {loading ? 'Generating...' : 'Generate Three.js Code'}\r\n        </button>\r\n        {error && <p className=\"error\">{error}</p>}\r\n        {parseError && <p className=\"error\">{parseError}</p>}\r\n      </header>\r\n      <main>\r\n        {code && <ThreeJSRenderer code={code} setParseError={setParseError} />}\r\n        {code && <CodeDisplay code={code} />} {/* Display the generated code */}\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}